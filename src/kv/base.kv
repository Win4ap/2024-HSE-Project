#:import NoTransition kivy.uix.screenmanager.NoTransition

<RoundedButton@Button>:
    background_color: 0, 0 ,0 ,0
    cur_color: (100/255, 100/255, 100/255, 1)
    canvas.before:
        Color:
            rgba: self.cur_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [40,]

<ProfileButton@Button>:
    background_color: 0, 0, 0, 0
    text_size: self.size
    font_size: self.height/2
    halign: 'left'
    color: 0, 0, 0, 1

<Message>:
    background_color: 0, 0 ,0 ,0
    cur_color: (200/255, 200/255, 200/255, 1)
    canvas.before:
        Color:
            rgba: self.cur_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [40,]

<FullChat>:
    chat_id: None
    chat_name: ''
    chat_scroll: chat_scroll
    message_input: message_input
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            size_hint: 1, 0.1
            Button:
                background_color: 0, 0, 0, 0
                text: '<'
                font_size: self.height
                color: 0, 0, 0, 1
                size_hint: 0.15, 1
                on_release:
                    root.go_back()

            Label:
                text: root.chat_name
                font_size: self.height/2
                color: 0, 0, 0, 1
                size_hint: 0.85, 1

        ScrollView:
            do_scroll_y: True
            do_scroll_x: False
            size_hint: 1, 0.82
            BoxLayout:
                id: chat_scroll
                orientation: 'vertical'
                size_hint_y: None
                height: 0
                spacing: '5dp'

        BoxLayout:
            size_hint: 1, 0.08
            TextInput:
                id: message_input
                size_hint: 0.85, 1
                cursor_color: 0, 0, 0, 1
                multiline: False
                font_size: self.height/1.8
                hint_text: 'Пишите...'

            RoundedButton:
                size_hint: 0.15, 1
                on_release:
                    root.new_message()

<ChatPreview>:
    chat_id: None
    chat_name: ''
    height: 180

    BoxLayout:
        Label:
            size_hint: 0.5, 1
            text: root.chat_name
            text_size: self.size
            font_size: self.height/3
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'center'

        Label:
            size_hint: 0.5, 1
            text: '>'
            text_size: self.size
            font_size: self.height/3
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'center'


<PopupCodeInput>:
    code_field: code_field
    title: 'Введите код завершения'
    size_hint: 0.8, 0.25
    auto_dismiss: False
    BoxLayout:
        orientation:'vertical'
        spacing: '5dp'
        TextInput:
            id: code_field
            size_hint: 1, 0.5
            hint_text: 'Введите код от клиента'
            multiline: 0
            background_color: 80/255, 80/255, 80/255, 1
            foreground_color: 1, 1, 1, 1
            font_size: self.height/2.5
            cursor_color: 1, 1, 1, 1
        Button:
            text: 'Проверить'
            size_hint: 1, 0.5
            on_release:
                root.save()

<ClientOrderPreview>:
    order_id: None
    description: ''
    order_name: ''
    price: ''
    start: ''
    finish: ''
    courier: ''
    time: ''
    type: ''
    status: 'Подробнее'
    background_color: 0, 0 ,0 ,0
    height: 180
    padding: ('30px', '15px', '30px', '15px')
    canvas.before:
        Color:
            rgba: (217/255, 217/255, 217/255, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20,]
    GridLayout:
        rows: 2
        cols: 2
        Label:
            text_size: self.size
            text: f'[b]{root.order_name}[/b]'
            font_size: self.height/2
            markup: 1
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'top'
        Label:
            text_size: self.size
            text: root.price
            font_size: self.height/2
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'top'
        Label:
            id: order_status
            text_size: self.size
            text: root.status
            font_size: self.height/3
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'bottom'
        Label:
            text_size: self.size
            text: root.courier
            font_size: self.height/2
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'bottom'

<ClientTemplatePreview>:
    template_name: ''
    description: ''
    price: ''
    start: ''
    finish: ''
    background_color: 0, 0 ,0 ,0
    height: 180
    padding: ('30px', '15px', '30px', '15px')
    canvas.before:
        Color:
            rgba: (217/255, 217/255, 217/255, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20,]
    GridLayout:
        rows: 1
        cols: 2
        Label:
            text_size: self.size
            text: f'[b]{root.template_name}[/b]'
            font_size: self.height/3
            markup: 1
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'middle'
        Label:
            text_size: self.size
            text: root.price
            font_size: self.height/4
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'middle'

<ArchiveOrder>:
    order_id: None
    description: ''
    order_name: ''
    price: ''
    start: ''
    finish: ''
    person: ''
    background_color: 0, 0 ,0 ,0
    height: 180
    padding: ('30px', '15px', '30px', '15px')
    canvas.before:
        Color:
            rgba: (217/255, 217/255, 217/255, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20,]
    GridLayout:
        rows: 2
        cols: 2
        Label:
            text_size: self.size
            text: f'[b]{root.order_name}[/b]'
            font_size: self.height/2
            markup: 1
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'top'
        Label:
            text_size: self.size
            text: root.price
            font_size: self.height/2
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'top'
        Label:
            text_size: self.size
            text: 'Подробнее'
            font_size: self.height/2
            color: 0, 0, 0, 1
            halign: 'left'
            valign: 'bottom'
        Label:
            text_size: self.size
            text: root.person
            font_size: self.height/2
            color: 0, 0, 0, 1
            halign: 'right'
            valign: 'bottom'